<h2>Using a \(\LaTeX\) macro file</h2>

<p>
If your writing a lot of small documents all the time and do math in them it is
a good idea to write yourself a macro package that contains personalized macros
and functions to speed up your typesetting. Especially useful for University
assignments and notes.
</p>

<hr>

<p>
If you never written a TeX package here the short-form with only the stuff we
need. You start the file with
</p>

<pre><code class="lang-latex">\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{YOUR-PACKAGE-NAME}</code></pre>

<p>and end it with:</p>

<pre><code class="lang-latex">\endinput</code></pre>

<p>and save it with extension <var>*.sty</var> instead of <var>.tex</var>.</p>

<h3>Things to add</h3>

<ul>
    <li>
        Packages you always use. For example which fonts to use. Difference
        for a package definition you use <var>\RequirePackage</var> instead
        of <var>\usepackage</var>.
        <pre><code class="lang-latex">\RequirePackage{newpxtext}
\RequirePackage{mathpazo}
\RequirePackage{dsfont}</code></pre>
    </li>
    <li>
        Faster font changes. I use for bold and italic text the same macro for
        math and normal text using the <var>\ifmmode</var> command.
        <pre><code class="lang-latex">\newcommand*{\B}[1]{\ifmmode\bm{#1}\else\textbf{#1}\fi}
\newcommand*{\I}[1]{\ifmmode\mathit{#1}\else\textit{#1}\fi}</code></pre>
    </li>
    <li>
        Unicode symbols. LaTeX supports Unicode commands so write the symbols
        instead of calling them. The <var>\ensuremath</var> call makes these
        commands also work in normal text mode. If you don't have special
        characters you want on your keyboard I have <a href="{{ROOT}}keymap">a tutorial</a>
        for that.
        <pre><code class="lang-latex">\newcommand*\ℝ{\ensuremath{\mathds{R}}}
\newcommand*\π{\ensuremath{\pi}}
\newcommand*\Σ{\ensuremath{\sum}}</code></pre>
        <var>\mathds</var> from <em>dsfont</em> gives nicer double-strokes.
    </li>
    <li>
        More math operators. I have to write lot of expected values so I made a
        nicer short version.
        <pre><code class="lang-latex">\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\E}{\mathbb{E}}</code></pre>
        The <var>\,</var> makes a tiny space.

    </li>
    <li>
        Anything else. You can <a href="https://github.com/morris-frank/latex-templates/blob/master/morris.sty">check out mine</a>
        or do whatever you like. If a command name is already taken and you want
        to overwrite it use <var>\renewcommand</var> instead of <var>\newcommand</var>.
    </li>
</ul>

<p>
Obviously this is more for documents that your working on yourself. Otherwise
you have to distribute the package to your collaborators.
</p>

<h3>Using it</h3>
<p>
To make the package visible to your compiler you have to put it on the TeX path.
You can add to your users local path to make it available to the compiler while
using your account. The path is called <var>TEXMFHOME</var> and you can look it
up with:
</p>

<pre><code class="lang-bash">kpsewhich -var-value TEXMFHOME</code></pre>

<p>
On most Linux systems this will be <var>/home/YOUR-USER/texmf</var>, which
probably doesn't exist. As I do not want to clutter my home folder with this I
changed the path by adjusting the environment variable with the same name inside
my <var>xinit.rc</var>:
</p>

<pre><code class="lang-bash">export TEXMFHOME=~/.local/share/texmf</code></pre>

<p>
After a reboot that should be your new <var>TEXMFHOME</var>. Inside this folder
your supposed to follow the TeX folder structure which means you should create
the folders <var>~/.local/share/texmf/tex/latex/YOUR-PACKAGE-NAME/</var> and
put your <var>YOUR-PACKAGE-NAME.sty</var> in there.
</p>

<p>If the path is still the old one you might need to rehash the TeX path:</p>

<pre><code class="lang-bash">sudo texhash /home/morris/.local/share/textmf</code></pre>

<p>
Now all my assignment files for University and other scribbles always start
with (as I have a <var>morris.sty</var>):
</p>

<pre><code class="lang-latex">\usepackage{morris}</code></pre>

<p>
and I am writing considerably faster and more readable (in my humble opinion).
Instead of:
</p>

<pre><code class="lang-latex">\pmb{\sigma} = \begin{bmatrix}
    \frac{\exp{\phi_1}}{\sum_i^N \exp{\phi_i}} & \dots
\end{bmatrix}</code></pre>

<p>I write:</p>

<pre><code class="lang-latex">\B{\σ} = \bM{\÷{\exp{\φ_1}}{\Σ_i^N \exp{\φ_i}} & \… }</code></pre>
